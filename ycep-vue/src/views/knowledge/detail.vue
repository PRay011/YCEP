<template>
  <!--  È°∂ÈÉ®ÂØºËà™Ê†è-->
  <Top />

  <div class="container">
    <div class="main">
      <div class="left"></div>
      <div class="center">
        <div class="knowledge">
          <div class="title">
            <div class="title">
              <p>{{ knowledge.title }}</p>
            </div>
            <div class="author">
              <p>{{ knowledge.author }}</p>
            </div>
          </div>
          <br />
          <hr />
          <p class="title-tip">ÂâçË®Ä</p>
          <div class="desc">
            <p>{{ knowledge.desc }}</p>
          </div>
          <p class="title-tip">Ê≠£Êñá</p>
          <div class="content">
            <div class="content-text">
              <div v-if="active < knowledge.content.length">
                <img
                  :src="knowledge.content[active].imgSrc"
                  class="content-text-image"
                />
                <div class="content-text-words">
                  {{ knowledge.content[active].text }}
                </div>
              </div>
              <div class="" v-else>
                <div class="game">
                  <!-- <p class="title-tip">Áõ∏ÂÖ≥Ê∏∏Êàè</p> -->
                  <!-- <br />
                  <hr /> -->
                  <div class="game-items">
                    <template class="block-cards">
                      <div
                          class="card"
                          v-for="item in gameList"
                          :key="item.id"
                          @click="toGame(item.id)"
                      >
                        <div class="card-image">
                          <img :src="item.imgSrc" alt="ËÉåÊôØÂõæÁâá" />
                        </div>
                        <div class="card-details">
                          <p class="text-title">{{ item.title }}</p>
                          <p class="text-body">{{ item.introduction }}</p>
                          <el-tag class="text-author">‰ΩúËÄÖÔºö{{ item.author }}</el-tag>
                        </div>
                        <button class="card-button">{{ item.kindName }}</button>
                      </div>
                    </template>
                  </div>
                </div>
              </div>
            </div>
            <el-steps :active="active" finish-status="success">
              <el-step
                v-for="(step, index) in knowledge.content.length"
                :key="index"
              />
            </el-steps>
            <el-button style="margin-top: 12px" @click="previous"
              >previous step</el-button
            >
            <el-button style="margin-top: 12px" @click="next"
              >Next step</el-button
            >
          </div>
          <br />
        </div>
      </div>
      <div class="right">
        <!--Êé®ËçêÊ∏∏Êàè-->
        <div class="recommend-game" v-for="item in recommendGameList">
          <div class="card" @click="klgDetailBtnClick(item.id)">
            <div class="card-image">
              <img :src="item.imgSrc" alt="ËÉåÊôØÂõæÁâá"/>
            </div>
            <div class="card-details">
              <p class="text-title">{{ item.title }}</p>
              <el-tag class="text-author">‰ΩúËÄÖÔºö{{ item.author }}</el-tag>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent } from "vue";
import Top from "../../components/top.vue";
import { getDetail, getGame } from "../../api/knowledge/detail";

export default defineComponent({
  name: "detail",
  data() {
    return {
      active: 0,
      hadRead: false,
      id: 0,
      knowledge: {
        id: 0,
        title: "Spring Boot ÂçïÂÖÉÊµãËØï",
        desc: "Spring Boot ‰∏≠ËøõË°åÂçïÂÖÉÊµãËØïÊòØ‰∏Ä‰∏™Â∏∏ËßÅÁöÑÂÅöÊ≥ïÔºåÂèØ‰ª•Â∏ÆÂä©‰Ω†È™åËØÅÂ∫îÁî®Á®ãÂ∫èÁöÑÂêÑ‰∏™ÁªÑ‰ª∂ÊòØÂê¶ÊåâÈ¢ÑÊúüÂ∑•‰Ωú„ÄÇÊâÄ‰ª•Êàë‰ª¨ÊúâÂøÖË¶ÅÂéªÂ≠¶‰π†‰∏ÄÁï™ÔºÅ",
        pages: 3,
        author: "ÂÜ∑Èõ™ÂÖÆ",
        content: [
          {
            imgSrc: "/src/assets/images/demo/game1.jpg",
            text: "Ôºüüç≠ ÂçïÂÖÉÊµãËØïÔºàunit testingÔºâÔºåÊòØÊåáÂØπËΩØüç≠‰ª∂‰∏≠ÁöÑÊúÄÂ∞èÂèØÊµãËØïÂçïÂÖÉËøõË°åÊ£ÄÊü•ÂíåÈ™åËØÅÁöÑËøáÁ®ãÂ∞±Âè´ÂçïÂÖÉÊµãËØï„ÄÇÂçïÂÖÉÊµãËØïÊòØÂºÄÂèëËÄÖÁºñÂÜôÁöÑ‰∏ÄÂ∞èÊÆµ‰ª£Á†ÅÔºåÁî®‰∫éÊ£ÄÈ™åË¢´Êµã‰ª£Á†ÅÁöÑ‚ºÄ‰∏™ÂæàÂ∞èÁöÑ„ÄÅÂæàÊòéÁ°ÆÁöÑÔºà‰ª£Á†ÅÔºâÂäüËÉΩÊòØÂê¶Ê≠£Á°Æ„ÄÇÊâßË°åÂçïÂÖÉÊµãËØïÂ∞±ÊòØ‰∏∫‰∫ÜËØÅÊòéÊüêÊÆµ‰ª£Á†ÅÁöÑÊâßË°åÁªìÊûúÊòØÂê¶Á¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúü„ÄÇÂ¶ÇÊûúÊµãËØïÁªìÊûúÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåÁß∞‰πã‰∏∫ÊµãËØïÈÄöËøáÔºåÂê¶ÂàôÂ∞±ÊòØÊµãËØïÊú™ÈÄöËøáÔºàÊàñËÄÖÂè´ÊµãËØïÂ§±Ë¥•Ôºâ„ÄÇ",
          },
          {
            imgSrc: "/src/assets/images/demo/game2.jpg",
            text: "‰∏Ä„ÄÅ‰ªÄ‰πàÊòØÂçïÂÖÉÊµãËØïÔºüüç≠ ÂçïÂÖÉÊµãËØïÔºàunit testingÔºâÔºåÊòØÊåáÂØπËΩØ‰ª∂‰∏≠ÁöÑÊúÄÂ∞èÂèØÊµãËØïÂçïüç≠ÂÖÉËøõüç≠Ë°åÊ£ÄÊü•ÂíåÈ™åËØÅÁöÑËøáÁ®ãÂ∞±Âè´ÂçïÂÖÉÊµãËØï„ÄÇÂçïÂÖÉÊµãËØïÊòØÂºÄÂèëËÄÖÁºñÂÜôÁöÑ‰∏ÄÂ∞èÊÆµ‰ª£Á†ÅÔºåÁî®‰∫éÊ£ÄÈ™åË¢´Êµã‰ª£Á†ÅÁöÑ‚ºÄ‰∏™ÂæàÂ∞èÁöÑ„ÄÅÂæàÊòéÁ°ÆÁöÑÔºà‰ª£Á†ÅÔºâÂäüËÉΩÊòØÂê¶Ê≠£Á°Æ„ÄÇÊâßË°åÂçïÂÖÉÊµãËØïÂ∞±ÊòØ‰∏∫‰∫ÜËØÅÊòéÊüêÊÆµ‰ª£Á†ÅÁöÑÊâßË°åÁªìÊûúÊòØÂê¶Á¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúü„ÄÇÂ¶ÇÊûúÊµãËØïÁªìÊûúÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåÁß∞‰πã‰∏∫ÊµãËØïÈÄöËøáÔºåÂê¶ÂàôÂ∞±ÊòØÊµãËØïÊú™ÈÄöËøáÔºàÊàñËÄÖÂè´ÊµãËØïÂ§±Ë¥•Ôºâ„ÄÇ",
          },
          {
            imgSrc: "/src/assets/images/demo/game3.jpg",
            text: "‰∏Ä„ÄÅ‰ªÄüç≠‰πàÊòØüç≠ÂçïÂÖÉÊµãËØïÔºüüç≠ ÂçïÂÖÉÊµãËØïÔºàunit testingÔºâÔºåÊòØÊåáüç≠ÂØπËΩØ‰ª∂‰∏≠ÁöÑÊúÄÂ∞èüç≠ÂèØÊµãËØïÂçïÂÖÉüç≠ËøõË°åÊ£ÄÊü•üç≠Âíå„ÄÇÂçïÂÖÉÊµãËØïÊòØÂºÄÂèëËÄÖÁºñÂÜôÁöÑ‰∏ÄÂ∞èÊÆµ‰ª£Á†ÅÔºåÁî®‰∫éÊ£ÄÈ™åË¢´Êµã‰ª£Á†ÅÁöÑ‚ºÄ‰∏™ÂæàÂ∞èÁöÑ„ÄÅÂæàÊòéÁ°ÆÁöÑÔºà‰ª£Á†ÅÔºâÂäüËÉΩÊòØÂê¶Ê≠£Á°Æ„ÄÇÊâßË°åÂçïÂÖÉÊµãËØïÂ∞±ÊòØ‰∏∫‰∫ÜËØÅÊòéÊüêÊÆµ‰ª£Á†ÅÁöÑÊâßË°åÁªìÊûúÊòØÂê¶Á¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúü„ÄÇÂ¶ÇÊûúÊµãËØïÁªìÊûúÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåÁß∞‰πã‰∏∫ÊµãËØïÈÄöËøáÔºåÂê¶ÂàôÂ∞±ÊòØÊµãËØïÊú™ÈÄöËøáÔºàÊàñËÄÖÂè´ÊµãËØïÂ§±Ë¥•Ôºâ„ÄÇ",
          },
        ],
      },
      gameList: [
        {
          id: 1,
          imgSrc: "/src/assets/images/demo/game1.jpg",
          title: "Ê≥ïÂ∫≠ÁñëÊ°à",
          kind: 2,
          kindName: "ÊùêÊñô",
          introduction:
              "ÊîæÂ≠¶ÂõûÂÆ∂ÁöÑÂ∞èÂÜõË∑Ø‰∏äÂÅö‰∫Ü‰∏Ä‰ª∂‰∫ãÔºåÁ´üÁÑ∂ÁäØ‰∫ÜÊ≥ïÔºÅÊ≥ïÂÆòÊúâÁÇπÂèëÊÑÅÔºÅ",
          author: "Êú∫Êô∫ÁöÑÁöáÂÜ†",
        },
        {
          id: 2,
          imgSrc: "/src/assets/images/demo/game2.jpg",
          title: "ÁîµË∑ØÊéíÊü•",
          kind: 3,
          kindName: "Áâ©ÁêÜ",
          introduction:
              "ËéâËéâÂú®Ê≠£Â∏∏Â∑•‰ΩúÔºåÂäûÂÖ¨ÂÆ§ÁöÑÂè∞ÁÅØÂç¥Á™ÅÁÑ∂ÁàÜÁÇ∏‰∫ÜÔºÅÂø´Êù•Â∏ÆÂ∏ÆÂ•πÂêßÔºÅ",
          author: "ÁúãÊâãÊú∫‰∏úÊñπÁ∫¢",
        },
        {
          id: 3,
          imgSrc: "/src/assets/images/demo/game3.jpg",
          title: "‰∏âÊÄÅÂèòÂåñ",
          kind: 4,
          kindName: "ÂåñÂ≠¶",
          introduction:
              "Á©∫Ê∞îÈáåÁ©∂Á´üÈÉΩÊúâ‰∫õ‰ªÄ‰πàÁä∂ÊÄÅÁöÑÁâ©Ë¥®Âë¢ÔºüÂ∞èÁôΩËµ∞Âú®Ë∑Ø‰∏äÂèëÂá∫‰∫ÜËøôÊ†∑ÁöÑÁñëÈóÆ„ÄÇ",
          author: "Ê¢µËíÇÂÜà",
        }
      ],
      recommendGameList:[
        {
          id: 1,
          imgSrc: "/src/assets/images/demo/game1.jpg",
          title: "Ê≥ïÂ∫≠ÁñëÊ°à",
          kind: 2,
          kindName: "ÊùêÊñô",
          introduction:
              "ÊîæÂ≠¶ÂõûÂÆ∂ÁöÑÂ∞èÂÜõË∑Ø‰∏äÂÅö‰∫Ü‰∏Ä‰ª∂‰∫ãÔºåÁ´üÁÑ∂ÁäØ‰∫ÜÊ≥ïÔºÅÊ≥ïÂÆòÊúâÁÇπÂèëÊÑÅÔºÅ",
          author: "Êú∫Êô∫ÁöÑÁöáÂÜ†",
        },
        {
          id: 2,
          imgSrc: "/src/assets/images/demo/game2.jpg",
          title: "ÁîµË∑ØÊéíÊü•",
          kind: 3,
          kindName: "Áâ©ÁêÜ",
          introduction:
              "ËéâËéâÂú®Ê≠£Â∏∏Â∑•‰ΩúÔºåÂäûÂÖ¨ÂÆ§ÁöÑÂè∞ÁÅØÂç¥Á™ÅÁÑ∂ÁàÜÁÇ∏‰∫ÜÔºÅÂø´Êù•Â∏ÆÂ∏ÆÂ•πÂêßÔºÅ",
          author: "ÁúãÊâãÊú∫‰∏úÊñπÁ∫¢",
        },
        {
          id: 3,
          imgSrc: "/src/assets/images/demo/game3.jpg",
          title: "‰∏âÊÄÅÂèòÂåñ",
          kind: 4,
          kindName: "ÂåñÂ≠¶",
          introduction:
              "Á©∫Ê∞îÈáåÁ©∂Á´üÈÉΩÊúâ‰∫õ‰ªÄ‰πàÁä∂ÊÄÅÁöÑÁâ©Ë¥®Âë¢ÔºüÂ∞èÁôΩËµ∞Âú®Ë∑Ø‰∏äÂèëÂá∫‰∫ÜËøôÊ†∑ÁöÑÁñëÈóÆ„ÄÇ",
          author: "Ê¢µËíÇÂÜà",
        },
        {
          id: 4,
          imgSrc: "/src/assets/images/demo/game1.jpg",
          title: "Ê≥ïÂ∫≠ÁñëÊ°à",
          kind: 2,
          kindName: "ÊùêÊñô",
          introduction:
              "ÊîæÂ≠¶ÂõûÂÆ∂ÁöÑÂ∞èÂÜõË∑Ø‰∏äÂÅö‰∫Ü‰∏Ä‰ª∂‰∫ãÔºåÁ´üÁÑ∂ÁäØ‰∫ÜÊ≥ïÔºÅÊ≥ïÂÆòÊúâÁÇπÂèëÊÑÅÔºÅ",
          author: "Êú∫Êô∫ÁöÑÁöáÂÜ†",
        },
        {
          id: 5,
          imgSrc: "/src/assets/images/demo/game2.jpg",
          title: "ÁîµË∑ØÊéíÊü•",
          kind: 3,
          kindName: "Áâ©ÁêÜ",
          introduction:
              "ËéâËéâÂú®Ê≠£Â∏∏Â∑•‰ΩúÔºåÂäûÂÖ¨ÂÆ§ÁöÑÂè∞ÁÅØÂç¥Á™ÅÁÑ∂ÁàÜÁÇ∏‰∫ÜÔºÅÂø´Êù•Â∏ÆÂ∏ÆÂ•πÂêßÔºÅ",
          author: "ÁúãÊâãÊú∫‰∏úÊñπÁ∫¢",
        },
        {
          id: 6,
          imgSrc: "/src/assets/images/demo/game3.jpg",
          title: "‰∏âÊÄÅÂèòÂåñ",
          kind: 4,
          kindName: "ÂåñÂ≠¶",
          introduction:
              "Á©∫Ê∞îÈáåÁ©∂Á´üÈÉΩÊúâ‰∫õ‰ªÄ‰πàÁä∂ÊÄÅÁöÑÁâ©Ë¥®Âë¢ÔºüÂ∞èÁôΩËµ∞Âú®Ë∑Ø‰∏äÂèëÂá∫‰∫ÜËøôÊ†∑ÁöÑÁñëÈóÆ„ÄÇ",
          author: "Ê¢µËíÇÂÜà",
        }
      ],
    };
  },
  components: { Top },
  mounted() {
    this.ready();
  },
  methods: {
    ready() {
      let id = this.$route.params.id;
      this.id = Number(id);
      this.getDetails();
      this.getGames();
    },
    getGames() {
      let that = this;
      getGame(this.id)
        .then((res: any) => {
          console.log(res);
          that.gameList = res.data;
        })
        .catch((err: any) => {
          console.log(err);
        });
    },
    getDetails() {
      let that = this;
      getDetail(this.id)
        .then((res: any) => {
          console.log(res);
          that.knowledge = res.data;
        })
        .catch((err: any) => {
          console.log(err);
        });
    },
    next() {
      if (this.active < this.knowledge.content.length) this.active++;
      console.log(this.active);
    },
    previous() {
      if (this.active > 0) this.active--;
    },
    //ËøõÂÖ•Ê∏∏Êàè
    toGame(id: any) {
      this.$router.push("/game/main/" + id);
    },
    //ÁÇπÂáªËøõÂÖ•Áü•ËØÜÁÇπËØ¶ÊÉÖ
    klgDetailBtnClick(id: any) {
      this.$router.push("/knowledge/detail/" + id);
    },
  },
});
</script>

<style lang="scss" scoped>
@import "../../assets/style/css/knowledge/detail.scss";
</style>
